var im=require("../imagemagick");exports.index=function(k,i){var m=k.body,a=["amarilla.png","aqua.png","morada.png","roja.png"],b=["afro/","ciclista/","deportista/","emo/","fresa/","hipster/","rapero/","rasta/","rockera/","seniora/"],f=a[m.cc],j=b[m.cu],g=m.bk,o="type/"+j+f,l='label:"'+m.tx+'"',d="public/created/"+new Buffer(m.cu+m.cc+l).toString("base64")+".png",e={},n="",h="",c="30";
if(m.cc==0&&m.cu==1){n="#b81817";}else{if(m.cc!=0&&m.cu==1){n="#ffffff";}else{if(m.cu==2){n="#fff";}else{if(m.cc==3&&m.cu==3){n="#b81817";}else{if(m.cu==3){n="#844291";
}else{if(m.cc==0&&m.cu==4){n="#844291";}else{if(m.cc!=0&&m.cu==4){n="#ffffff";}else{if(m.cc!=0&&m.cu==5){n="#fcd800";}else{if(m.cc!=1&&m.cu==5){n="#248eac";
}else{if(m.cc!=2&&m.cu==5){n="#844291";}else{if(m.cc!=3&&m.cu==5){n="#b81817";}else{if(m.cu==6){n="#ffffff";}else{if(m.cc!=0&&m.cu==7){n="#b81817";}else{if(m.cc!=1&&m.cu==7){n="#844291";
}else{if(m.cc!=2&&m.cu==7){n="#ffffff";}else{if(m.cc!=3&&m.cu==7){n="#61af20";}else{if(m.cc!=0&&m.cu==8){n="#b81817";}else{if(m.cc!=1&&m.cu==8){n="#248eac";
}else{if(m.cc!=2&&m.cu==8){n="#ffffff";}else{if(m.cc!=3&&m.cu==8){n="#ffffff";}else{n="#f1bf7f";}}}}}}}}}}}}}}}}}}}}switch(m.cu){case"0":h="+50-25";c="30";
break;case"1":h="+30-75";c="1";break;case"2":h="+59-90";c="30";break;case"3":h="+39-145";c="70";break;case"4":h="+50-95";c="60";break;case"5":h="+35-80";
c="30";break;case"6":h="+45-80";c="40";break;case"7":h="+50-100";c="40";break;case"8":h="+90-110";c="40";break;case"9":h="+15-140";c="40";break;}im.convert(["(",o,"-background",m.bk,"-alpha","remove",")","(","-gravity","center","-pointsize","40","-background","transparent","-font","font.ttf","-fill",n,"-pointsize","40",l,"-virtual-pixel","transparent","-distort","Arc",c,"-geometry",h,")","-composite",d],function(q,p){if(q){throw q;
}console.log("out:",d);e.success=true;e.url=d;i.send(200,e);});};